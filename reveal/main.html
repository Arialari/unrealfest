<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Growing a Healthy UE4 Ecosystem : How Splash Damage approaches development</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="node_modules/reveal.js/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="node_modules/reveal.js/css/theme/black.css" id="theme"><link href="node_modules/reveal.js/lib/css/zenburn.css" rel="stylesheet"><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "node_modules/reveal.js/css/print/pdf.css" : "node_modules/reveal.js/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script><!--[if lt IE 9]><script src="node_modules/reveal.js/lib/js/html5shiv.js"></script><![endif]--><link rel="stylesheet" href="../docs/main.css"></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title" data-background-image="img/cards/Company.jpg"><h1>Growing a Healthy UE4 Ecosystem </h1><h2>How <strong>Splash Damage</strong> approaches development</h2></section><section id="valentin_galea"><h2>@valentin_galea</h2><div class="paragraph"><p>More than 15 years in the industry, of which 4 at</p></div>
<div class="imageblock" style=""><img src="img/SD/SD-logo-white-orange.svg" alt="SD" width="200" height="200"></div></section>
<section id="strong_splash_damage_strong_history" data-background-image="img/timeline/sd-timeline-all.jpg" data-state="no_list_decor"><h2><strong>Splash Damage</strong> History</h2><div class="ulist"><ul><li><p>&#160;</p></li><li><p>&#160;</p></li><li><p>&#160;</p></li><li><p>&#160;</p></li><li><p>&#160;</p></li></ul></div></section>
<section id="agenda"><h2>Agenda</h2><div class="ulist"><ul><li><p>Teams and Projects</p></li><li><p>Standards</p></li><li><p>Validation</p></li><li><p>Compilation</p></li><li><p>Automation &amp; Testing</p></li><li><p>Projects Structure</p></li><li><p>Splash Engine &amp; Merges</p></li></ul></div></section>
<section id="disclaimer"><h2>Disclaimer</h2><div class="imageblock" style="float: left"><img src="img/icon/megaphone.svg" alt="SD" width="200" height="200"></div>
<div class="ulist"><ul><li><p>Share our learnings</p><div class="ulist"><ul><li><p>what worked well üëç</p></li><li><p>what didn&#8217;t üëé</p></li></ul></div></li><li><p>Get inspired!</p></li></ul></div></section>
<section id="teams_and_strong_projects_strong"><h2>Teams and <strong>Projects</strong></h2><div class="paragraph"><p><span class="image"><img src="img/icon/UE4.jpg" alt="UE"></span> <span class="image"><img src="img/icon/team.svg" alt="teams" width="128" height="128"></span></p></div>
<div class="ulist step"><ul><li class="fragment"><p>300 employees</p></li><li class="fragment"><p>Split across multiple ongoing projects</p></li><li class="fragment"><p>Most projects use <strong>Splash Engine</strong></p><div class="ulist"><ul><li><p>vanilla + own modules and enhancements</p></li></ul></div></li></ul></div></section>
<section id="coding_strong_standards_strong" data-background-image="img/cards/GOW-UE.jpg" data-state="title_card"><h2>Coding <strong>Standards</strong></h2></section>
<section id="about"><h2>About</h2><div class="ulist"><ul><li><p>Splash values <strong>MASTERY</strong> especially in <strong>C++</strong></p></li><li><p>We didn&#8217;t have an established coding standard</p><div class="ulist"><ul><li><p>some attempts to document it in <em>wiki&#8217;s</em></p></li></ul></div></li></ul></div></section>
<section id="pitfalls"><h2>Pitfalls</h2><div class="ulist step"><ul><li class="fragment"><p>Grow big / Hard to navigate</p></li><li class="fragment"><p>Get <em>out-of-date</em> quickly</p></li><li class="fragment"><p>In separate location</p><div class="ulist"><ul><li><p>outside production source code</p></li></ul></div></li><li class="fragment"><p>Only select few modify or improve them</p></li><li class="fragment"><p>Nobody has time to read documentation! üòõ</p></li></ul></div></section>
<section id="splash_damage_approach"><h2>Splash Damage approach</h2><div class="ulist step"><ul><li class="fragment"><p>Standards are <strong>source code files</strong> üìë</p><div class="ulist"><ul><li><p>you can break the build messing with the standard!</p></li></ul></div></li><li class="fragment"><p>Created and improved through code reviews</p></li><li class="fragment"><p>A system for easy <em>reference</em> and <em>searching</em></p></li></ul></div></section>
<section id="the_coding_standard"><h2>The Coding Standard</h2><div class="ulist step"><ul><li class="fragment"><p>2 files</p><div class="ulist"><ul><li><p><code>SplashDamageCodingStandard.h</code></p></li><li><p><code>SplashDamageCodingStandard.cpp</code></p></li></ul></div></li><li class="fragment"><p>Located in the main source code</p><div class="ulist"><ul><li><p><code>ue4/Game/Source/Main/&#8230;&#8203;</code></p></li></ul></div></li><li class="fragment"><p><strong>Open Source</strong></p><div class="ulist"><ul><li><p><a href="https://github.com/splash-damage/coding-standards" class="bare">https://github.com/splash-damage/coding-standards</a></p></li></ul></div></li></ul></div></section>
<section id="the_coding_standards_cont"><div class="imageblock" style=""><img src="img/code-std/vs-standards-open.gif" alt="VS code std"></div></section>
<section id="coding_standard_surf" data-background-iframe="surf/index.html#1" data-state="no_list_decor"><div class="ulist"><ul><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li></ul></div></section>
<section id="usage"><h2>Usage</h2><div class="paragraph"><p>Applied via code reviews</p></div>
<div class="imageblock" style=""><img src="img/code-std/review-1.png" alt="code review pic"></div></section>
<section id="usage_continued"><h2>Usage (continued)</h2><div class="paragraph"><p>Takes the pressure off from feeling judgemental</p></div>
<div class="imageblock" style=""><img src="img/code-std/review-2.png" alt="code review pic"></div></section>
<section id="modify_and_strong_improve_strong"><h2>Modify and <strong>Improve</strong></h2><div class="ulist"><ul><li><p>The standard itself is changed though reviews sent to the whole team</p></li><li><p>If enough up-votes ‚Üí the proposal gets submitted</p></li></ul></div></section>
<section id="unintended_consequences"><h2>Unintended Consequences</h2><div class="imageblock" style=""><img src="img/code-std/coding-actor.png" alt="ue4 coding actor"></div></section>
<section id="content_strong_standards_strong" data-background-image="img/cards/GOW-4.jpg" data-state="title_card"><h2>Content <strong>Standards</strong></h2></section>
<section id="motivation"><h2>Motivation</h2><div class="ulist step"><ul><li class="fragment"><p>Poor organisation and practices for assets</p><div class="ulist"><ul><li><p>&#8230;&#8203; compound over time</p></li><li><p>&#8230;&#8203; waste productivity</p></li><li><p>&#8230;&#8203; increase cooking and deployment times</p></li></ul></div></li><li class="fragment"><p>UE4 Editor is easy to modify to</p><div class="ulist"><ul><li><p>improve workflows</p></li><li><p>enforce good practices</p></li></ul></div></li></ul></div></section>
<section id="asset_naming_rules"><h2>Asset Naming Rules</h2><div class="imageblock" style=""><img src="img/content-std/template.png" alt="asset template" width="125%"></div>
<div class="ulist step"><ul><li class="fragment"><p>Less confusion and improves searching &amp; browsing</p></li><li class="fragment"><p><code>Prefix</code> uses <em>initialism</em> rules</p></li></ul></div></section>
<section id="asset_naming_example"><h2>Asset Naming Example</h2><div class="imageblock" style=""><img src="img/content-std/example_1.png" alt="assets ex"></div></section>
<section id="blueprint_standards"><h2>Blueprint Standards</h2><div class="ulist"><ul><li><p>Same principles as the Coding Standard</p></li><li><p>Live in <code>Game/Content/Standard/</code></p></li></ul></div></section>
<section id="blueprint_standards_ex_1"><div class="imageblock" style=""><img src="img/content-std/blueprint-standard-1.png" alt="blueprint std ex 1"></div></section>
<section id="blueprint_standards_ex_2"><div class="imageblock" style=""><img src="img/content-std/blueprint-standard-2.png" alt="blueprint std ex 2"></div></section>
<section id="blueprint_standards_cont"><h2>Blueprint Standards (cont.)</h2><div class="ulist"><ul><li><p>We have some basic automatic validators</p></li><li><p>Best gain for us:</p><div class="ulist"><ul><li><p>enforcing comment nodes</p></li></ul></div></li></ul></div></section>
<section id="content_strong_standards_strong_2" data-background-image="img/cards/GOW-5.jpg" data-state="title_card"><h2>Content <strong>Standards</strong></h2></section>
<section id="automated_validation"><h2>Automated Validation</h2><div class="ulist step"><ul><li class="fragment"><p>CI (Continuous Integration) support</p><div class="ulist"><ul><li><p>validation after submit</p></li><li><p>nightly builds</p></li></ul></div></li><li class="fragment"><p><strong>Naming</strong> Validation</p></li><li class="fragment"><p><strong>Blueprints</strong> Validation</p></li><li class="fragment"><p><strong>Assets</strong> Validation</p></li></ul></div></section>
<section id="strong_naming_strong_validation"><h2><strong>Naming</strong> Validation</h2><div class="ulist step"><ul><li class="fragment"><p>Automated checker / validator</p><div class="ulist"><ul><li><p>Editor commandlet</p></li><li><p><em>Initialism</em> from asset class name</p></li><li><p>extra JSON file with exceptions</p></li></ul></div></li><li class="fragment"><p>Disallow names like <code>Test</code>, <code>Prototype</code>, <code>Error</code></p></li><li class="fragment"><p>Intercept new asset creation&#8230;&#8203;</p></li></ul></div></section>
<section id="asset_auto_naming_on_creation"><h2>Asset auto-naming on creation</h2><div class="imageblock" style=""><img src="img/content-std/ue4-auto-naming.gif"" alt="auto naming" width="150%"></div></section>
<section id="strong_asset_import_strong_rule"><h2><strong>Asset import</strong> rule</h2><div class="ulist"><ul><li><p>Disallow import from <em>non-versioned</em> paths</p></li><li><p>Forbidden example:</p><div class="ulist"><ul><li><p>adding data from own Desktop folder üíÄ</p></li></ul></div></li></ul></div></section>
<section id="strong_blueprints_strong_validation"><h2><strong>Blueprints</strong> Validation</h2><div class="ulist step"><ul><li class="fragment"><p>Editor commandlet</p></li><li class="fragment"><p>Basic checks</p><div class="ulist"><ul><li><p><em>comment</em> nodes present</p></li><li><p>public functions / vars must have <em>tooltips</em></p></li><li><p>no functions / vars with <em>default names</em></p></li></ul></div></li><li class="fragment"><p>Future work &amp; ideas</p><div class="ulist"><ul><li><p>leverage the engine Blueprint Compiler</p></li><li><p>more complex checks</p></li></ul></div></li></ul></div></section>
<section id="strong_assets_strong_validation"><h2><strong>Assets</strong> Validation</h2><div class="ulist step"><ul><li class="fragment"><p>For all content - done in CI system</p></li><li class="fragment"><p>Check for missing or bad references</p></li><li class="fragment"><p>Disregard/Disallow <code>Developer</code>, <code>Test</code> folders</p><div class="ulist"><ul><li><p>historically a major pain point for us</p></li></ul></div></li></ul></div></section>
<section id="strong_assets_strong_validation_cont"><h2><strong>Assets</strong> Validation (cont.)</h2><div class="ulist step"><ul><li class="fragment"><p>How it works</p><div class="ulist"><ul><li><p>leverage the cooking process</p></li><li><p><code>-COOKALL -DUMPALLWARNINGS -WARNINGSASERRORS</code></p></li></ul></div></li><li class="fragment"><p>Not viable for large projects ‚ö†Ô∏è</p><div class="ulist"><ul><li><p>explore other possibilities</p></li><li><p>ex: dependency walker via Editor Asset Registry</p></li></ul></div></li></ul></div></section>
<section id="strong_compilation_strong" data-background-image="img/cards/GOW-T.jpg" data-state="title_card"><h2><strong>Compilation</strong></h2></section>
<section id="hardware"><h2>Hardware</h2><div class="ulist step"><ul><li class="fragment"><p>Everyday work is very CPU intensive</p></li><li class="fragment"><p>CPU hardware threads</p><div class="ulist"><ul><li><p>jump from 8 to 16 substantial (2x)</p></li><li><p>same from 16 to 32</p></li><li><p>diminishing returns after</p></li></ul></div></li></ul></div></section>
<section id="strong_distributed_strong_compilation"><h2><strong>Distributed</strong> compilation</h2><div class="ulist step"><ul><li class="fragment"><p><em>Incredibuild</em> for some projects</p><div class="ulist"><ul><li><p>expensive - needs to be budgeted for</p></li></ul></div></li><li class="fragment"><p>We also tried <em>Fastbuild</em></p><div class="ulist"><ul><li><p>free but more difficult to integrate</p></li></ul></div></li></ul></div></section>
<section id="strong_build_farm_strong"><h2><strong>Build Farm</strong></h2><div class="ulist step"><ul><li class="fragment"><p>Different config and layout <em>per project</em></p></li><li class="fragment"><p>Best performer machine</p><div class="ulist"><ul><li><p>AMD Threadripper 1950x (16c/32t)</p></li><li><p>full Editor rebuild in ~15min</p></li></ul></div></li><li class="fragment"><p>Orchestration</p><div class="ulist"><ul><li><p><em>TeamCity</em> - most projects</p></li><li><p><em>Jenkins</em></p></li></ul></div></li></ul></div></section>
<section id="infrastructure_strong_as_code_strong"><h2>Infrastructure-<strong>As-Code</strong></h2><div class="ulist step"><ul><li class="fragment"><p>In the past we used ad-hoc methods that didn&#8217;t scale well</p></li><li class="fragment"><p>Too tight integrated with the CI orchestrator ‚ùå</p></li><li class="fragment"><p>Too bespoke for a project - cannot reuse ‚ùå</p></li><li class="fragment"><p>Hard to debug locally ‚ùå</p></li><li class="fragment"><p>Now leveraging Epic&#8217;s own <em>BuildGraph</em> ‚úÖ</p></li></ul></div></section>
<section id="strong_buildgraph_strong"><h2><strong>BuildGraph</strong></h2><div class="ulist"><ul><li><p>Alternative to traditional <code>BuildCookRun</code> batch commands</p></li><li><p>XML based scripts</p></li></ul></div></section>
<section id="strong_buildgraph_strong_our_usage"><h2><strong>BuildGraph</strong> - Our Usage</h2><div class="ulist step"><ul><li class="fragment"><p>Standardized and reusable set of scripts üìë</p></li><li class="fragment"><p>Unifies all calling paths</p><div class="ulist"><ul><li><p>Visual Studio</p></li><li><p>Editor - Hot Reload</p></li><li><p>command line</p></li><li><p>CI systems</p></li></ul></div></li></ul></div></section>
<section id="strong_buildgraph_strong_cont"><h2><strong>BuildGraph</strong> (cont.)</h2><div class="ulist step"><ul><li class="fragment"><p>Additional benefits</p><div class="ulist"><ul><li><p>easier edit in Visual Studio than batch files</p></li><li><p>allows build tasks parallelizing</p></li><li><p>easier dependencies management</p></li></ul></div></li><li class="fragment"><p>Our most complex use-case:</p><div class="ulist"><ul><li><p>prepare <em>UnrealGameSync</em> editor binaries</p></li><li><p>multi-step process, with artefact dependencies</p></li></ul></div></li></ul></div></section>
<section id="buildgraph_code_surf" data-background-iframe="surf/index.html#2" data-state="no_list_decor"><div class="ulist"><ul><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li></ul></div></section>
<section id="pre_strong_commit_strong" data-background-image="img/cards/Batman.jpg" data-state="title_card"><h2>Pre-<strong>Commit</strong></h2></section>
<section id="pre_commit_anim"><h2>Pre-Commit Anim</h2><div class="paragraph"><p>TODO: pre-commit anims</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="xml language-xml">&lt;CodeSurfer
  title="Normal Commit Flow"
  code={require("!raw-loader!../flow/submit.txt")}
  theme={code_theme}
  lang="yaml"
  steps={[
    { notes: "" },
    { range: [flowA +  1, flowA +  5] },
    { range: [flowA + 10, flowA + 15] },
    { range: [flowA + 23, flowA + 28] },
    { range: [flowA + 36, flowA + 41] }
  ]}
/&gt;</code></pre></div></div></section>
<section id="pre_commit_anim_2"><h2>Pre-Commit Anim</h2><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="xml language-xml">&lt;CodeSurfer
  title="Pre-Commit Flow"
  code={require("!raw-loader!../flow/pre-submit.txt")}
  theme={code_theme}
  lang="yaml"
  steps={[
    { notes: "" },
    { range: [flowB +  1, flowB +  5] },
    { range: [flowB + 10, flowB + 15] },
    { range: [flowB + 23, flowB + 28] },
    { range: [flowB + 36, flowB + 41] },
    { lines: [flowB + 43, flowB + 47] },
    { range: [flowB + 50, flowB + 53] },
    { range: [flowB + 62, flowB + 66] },
  ]}
/&gt;</code></pre></div></div></section>
<section id="how_it_works"><h2>How it works</h2><div class="ulist"><ul><li><p>Effectively 2 systems working together</p></li><li><p>Frontend</p><div class="ulist"><ul><li><p>what the devs interact with</p></li></ul></div></li><li><p>Backend</p><div class="ulist"><ul><li><p>CI / build-machines</p></li></ul></div></li></ul></div></section>
<section id="pre_commit_frontend"><h2>Pre-Commit Frontend</h2><div class="ulist"><ul><li><p>Tools that allow indirect submits to main code base</p></li><li><p>Off-the-shelf</p><div class="ulist"><ul><li><p>Visual Studio ReSharper Team City plugin</p></li><li><p><a href="https://www.jetbrains.com/resharper/" class="bare">https://www.jetbrains.com/resharper/</a></p></li></ul></div></li><li><p>Internally developed</p><div class="ulist"><ul><li><p>more project specific</p></li><li><p>written in C# or Python</p></li></ul></div></li></ul></div></section>
<section id="example_visual_studio_resharper"><h2>Example: Visual Studio ReSharper</h2><div class="imageblock" style=""><img src="img/tools/pre-commit.png" alt="resharper" width="50%"></div></section>
<section id="pre_commit_backend"><h2>Pre-Commit Backend</h2><div class="ulist"><ul><li><p><strong>Personal Build</strong> system</p><div class="ulist"><ul><li><p>starts CI build configuration in isolation</p></li><li><p>more configurations &#8594; better coverage üòäÔ∏è</p></li><li><p>more configurations &#8594; stress on build farm ‚òπÔ∏è</p></li></ul></div></li></ul></div></section>
<section id="pre_commit_backend_cont"><h2>Pre-Commit Backend (cont.)</h2><div class="ulist"><ul><li><p>Compile time-saving solution</p><div class="ulist"><ul><li><p>rebuild all participating configuration nightly</p></li><li><p>incremental (non-unity) builds throughout the day</p></li><li><p>example:</p></li><li><p><em>Editor</em> + <em>Game(PC)</em> + <em>Game(PS4)</em></p></li><li><p>Overnight: 1.5-2h on fastest machine</p></li><li><p>Daily: 5-15 min per commit check</p></li></ul></div></li></ul></div></section>
<section id="workflow_rules"><h2>Workflow &amp; Rules</h2><div class="ulist"><ul><li><p>Every commit validated against:</p><div class="ulist"><ul><li><p>Has <em>title</em> and <em>description</em></p></li><li><p>Contains at least of <em>tag</em> like <code>[Feature]</code> <code>[Bug]</code> <code>[Merge]</code> etc</p></li><li><p>Has links to <em>code review</em> or code <em>buddies</em></p></li><li><p>Time-limits to prevent commit-and-runs</p></li></ul></div></li><li><p>Some projects relax or constrain the rules more</p><div class="ulist"><ul><li><p>example: check against known build-breaking patterns</p></li><li><p>(missing .h/.cpp pair)</p></li></ul></div></li></ul></div></section>
<section id="commit_preparation"><h2>Commit Preparation</h2><div class="imageblock" style=""><img src="img/tools/pct-tool.webp" alt="pct"></div></section>
<section id="commit_validation"><h2>Commit Validation</h2><div class="imageblock" style=""><img src="img/tools/trigger-tool.webp" alt="trigger" width="150%"></div></section>
<section id="automation_strong_testing_strong" data-background-image="img/cards/DB-1.jpg" data-state="title_card"><h2>Automation &amp; <strong>Testing</strong></h2></section>
<section id="unit_testing"><h2>Unit Testing</h2><div class="ulist"><ul><li><p>Testing plain classes and structs or single UObjects</p></li><li><p>Enhancements to UE4&#8217;s own framework</p><div class="ulist"><ul><li><p>follow Given / When / Then structure</p></li><li><p>separate standards file</p></li><li><p>integrated with CI (ex: TeamCity)</p></li><li><p>utilities</p></li><li><p>import private data from testable modules</p></li><li><p><code>UWorld</code> setup &amp; teardown</p></li></ul></div></li></ul></div></section>
<section id="unit_test_code_surf"><h2>Unit Test Code Surf</h2><div class="paragraph"><p>TODO: surf: unit test</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="xml language-xml">&lt;CodeSurfer
  title="Unit Test Example"
  code={require("!raw-loader!../flow/testing.cpp")}
  theme={code_theme}
  lang="cpp"
  steps={[
    { notes: "" },
    { range: [ 8, 10], notes: "syntactic sugar macros" },
    { range: [52, 53], notes: "test names must follow specific naming" },
    { range: [54, 58], notes: "Given..." },
    { range: [65, 67], notes: "...When..." },
    { range: [69, 72], notes: "...Then" },
    { range: [77, 79], notes: "cleanup" }
  ]}
/&gt;</code></pre></div></div></section>
<section id="functional_testing"><h2>Functional Testing</h2><div class="ulist"><ul><li><p>Blueprint actors that we embed in bespoke levels using the editor</p></li><li><p>Live under <code>Game/Content/Test/&#8230;&#8203;</code></p></li><li><p>Named <code>FTEST_</code> to follow Epic&#8217;s convention and for visibility</p></li><li><p>Not network capable</p><div class="ulist"><ul><li><p>Look into recent UE4 additions: <em>Gauntlet</em></p></li></ul></div></li></ul></div></section>
<section id="ci_tests_integration"><h2>CI Tests Integration</h2><div class="imageblock" style=""><img src="img/tools/tc-tests.png" alt="TC tests"></div></section>
<section id="editor_automated_distribution"><h2>Editor Automated Distribution</h2><div class="paragraph"><p>UnrealGameSync (UGS)</p></div>
<div class="ulist"><ul><li><p>Distributing Editor binaries is a more controlled manner</p></li><li><p>Very useful for non-programmers</p><div class="ulist"><ul><li><p>we stripped out the compilation support</p></li></ul></div></li><li><p>We refactored the packaging script via BuildGraph</p><div class="ulist"><ul><li><p>more control, adding symbols upload</p></li></ul></div></li></ul></div></section>
<section id="editor_build_validation"><h2>Editor Build Validation</h2><div class="ulist"><ul><li><p>Basic automated Editor validation</p><div class="ulist"><ul><li><p>build machine boots freshly compiled Editor</p></li><li><p>monitors error messages in the log</p></li><li><p>monitors startup time (ex: no more than X sec)</p></li></ul></div></li></ul></div></section>
<section id="strong_projects_strong_setup" data-background-image="img/cards/GOW-Brumak.jpg" data-state="title_card"><h2><strong>Projects</strong> Setup</h2></section>
<section id="game_modules"><h2>Game Modules</h2><div class="ulist"><ul><li><p>We strive to have multiple independent modules</p><div class="ulist"><ul><li><p>as opposed to 1 monolithic one</p></li></ul></div></li><li><p>Beneficial for</p><div class="ulist"><ul><li><p>encapsulation and architecture</p></li><li><p>faster iteration (linkage improvement for ex)</p></li><li><p>support for Hot-Reload</p></li><li><p>re-use throughout projects</p></li></ul></div></li></ul></div></section>
<section id="game_module_code_surf"><h2>Game Module Code Surf</h2><div class="paragraph"><p>TODO: surf: game modules</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="xml language-xml">&lt;CodeSurfer
  title="Game Module Layout Example"
  code={require("!raw-loader!../flow/modules.txt")}
  theme={code_theme}
  lang="yaml"
  steps={[
    { notes: "" },
    { range: [ 2, 14], notes: "Runtime module" },
    { range: [16, 26], notes: "Test module" },
    { range: [28, 30], notes: "Editor-only module" },
    { range: [33, 35], notes: "Interface-only module" },
    { lines: [3], notes: "UBT build file" },
    { range: [5, 8], notes: "Implementation" },
    { range: [10, 14], notes: "Interface" }
  ]}
/&gt;</code></pre></div></div></section>
<section id="quick_dirty_automation"><h2>Quick &amp; Dirty Automation</h2><div class="ulist"><ul><li><p><code>GenerateModule.cmd</code></p></li><li><p>Batch file script that produces</p><div class="ulist"><ul><li><p>folder structure</p></li><li><p>initial <em>&#8230;&#8203;build.cs</em> file with good defaults for us</p></li></ul></div></li></ul></div></section>
<section id="test_modules"><h2>Test Modules</h2><div class="ulist"><ul><li><p>Very useful to access private data from equivalent runtime module</p></li><li><p>Our solution: <code>MODULENAME_TEST_API</code> extension to module API specifier</p><div class="ulist"><ul><li><p>UnrealBuildTool modification</p></li><li><p>exported as usual</p></li><li><p>only modules with <code>bImportTestModuleSymbols</code> can import</p></li></ul></div></li></ul></div></section>
<section id="strong_splash_strong_engine" data-background-image="img/cards/DB-2.jpg" data-state="title_card"><h2><strong>Splash</strong> Engine</h2></section>
<section id="about_2"><h2>About</h2><div class="paragraph"><p>We extract and re-use the UE work across projects into "Splash Engine"</p></div>
<div class="ulist"><ul><li><p>game-agnostic engine enhacements &amp; fixes gathered across time</p></li><li><p>re-usable mini-frameworks modules</p><div class="ulist"><ul><li><p>UI components</p></li><li><p>Audio utilities</p></li><li><p>Events, Async Tasks</p></li><li><p>Rendering features</p></li><li><p>Tech-Art utilities</p></li><li><p>ex: Instance Mesh split /group</p></li></ul></div></li></ul></div></section>
<section id="overview"><h2>Overview</h2><div class="ulist"><ul><li><p>Majority of projects get seeded from "Splash Engine"</p></li><li><p>Downstream integrations</p><div class="ulist"><ul><li><p>"Splash Engine" tends to be at latest UE4 version</p></li><li><p>projects update at their own pace</p></li></ul></div></li><li><p>Upstream integrations</p><div class="ulist"><ul><li><p>some projects will bubble-up important features</p></li></ul></div></li></ul></div></section>
<section id="sd_engine_code_flow"><h2>SD engine Code Flow</h2><div class="paragraph"><p>TODO: surf: engine</p></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="xml language-xml">&lt;CodeSurfer
  title="Architecture"
  code={require("!raw-loader!../flow/splash-engine.txt")}
  theme={code_theme}
  lang="yaml"
  steps={[
    { notes: "" },
    { lines: [ arch_A+0 ], notes: "master Perforce depot" },
    { lines: [ arch_A+2 ], notes: "engine 'vanilla' drops from Epic" },
    { lines: [ arch_A+5 ], notes: "Splash Engine" },
    { range: [ arch_A+8, arch_A+11], notes: "company games/projects" },
    { range: [ arch_B+2, arch_B+6 ], notes: "individual downloaded versions" },
    { range: [ arch_C+1, arch_C+7], notes: "Splash Engine layout" },
    {   lines: [ arch_C+3 ], notes: "'vanilla' version for merge diff" },
    {   lines: [ arch_C+4 ], notes: "master branch" },
    { range: [ arch_C+5, arch_C+8 ], notes: "individual project staging" }
  ]}
/&gt;</code></pre></div></div></section>
<section id="merge_scenario"><h2>Merge Scenario</h2><div class="paragraph"><p>Updating a game project to latest UE4 version&#8230;&#8203;</p></div></section>
<section id="splash_ue4_anim"><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="diff language-diff">/splash-ue4
|
‚îú‚îÄ‚îÄ‚îÄ/clean
‚îÇ
‚îÇ
‚îú‚îÄ‚îÄ‚îÄ/main
|
|
‚îú‚îÄ‚îÄ‚îÄ/project-A
‚îú‚îÄ‚îÄ‚îÄ/project-B
‚îú‚îÄ‚îÄ‚îÄ...</code></pre></div></div></section>
<section id="splash_ue4_anim_2"><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="diff language-diff">/splash-ue4                 |
|                           |
‚îú‚îÄ‚îÄ‚îÄ/clean  &lt;---------------'  copy latest UE version
‚îÇ                              (allows nice incremental diffs)
‚îÇ
‚îú‚îÄ‚îÄ‚îÄ/main
|
|
‚îú‚îÄ‚îÄ‚îÄ/project-A
‚îú‚îÄ‚îÄ‚îÄ/project-B
‚îú‚îÄ‚îÄ‚îÄ...</code></pre></div></div></section>
<section id="splash_ue4_anim_3"><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="diff language-diff">/splash-ue4
|
‚îú‚îÄ‚îÄ‚îÄ/clean -----------------.
‚îÇ                           |  merge across¬†to main branch
‚îÇ                           |  (also update any plugins we use)
‚îú‚îÄ‚îÄ‚îÄ/main  &lt;----------------'
|
|
‚îú‚îÄ‚îÄ‚îÄ/project-A
‚îú‚îÄ‚îÄ‚îÄ/project-B
‚îú‚îÄ‚îÄ‚îÄ...</code></pre></div></div></section>
<section id="splash_ue4_anim_4"><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="diff language-diff">/splash-ue4
|
‚îú‚îÄ‚îÄ‚îÄ/clean
‚îÇ
‚îÇ
‚îú‚îÄ‚îÄ‚îÄ/main
|
|
‚îú‚îÄ‚îÄ‚îÄ/project-A  &lt;-----------.
‚îú‚îÄ‚îÄ‚îÄ/project-B              |
‚îú‚îÄ‚îÄ‚îÄ...                     |  merge from main game repo
                            |  (prepare staging area with latest game advances)</code></pre></div></div></section>
<section id="splash_ue4_anim_5"><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="diff language-diff">/splash-ue4
|
‚îú‚îÄ‚îÄ‚îÄ/clean
‚îÇ
‚îÇ
‚îú‚îÄ‚îÄ‚îÄ/main ------------------.
|                           |  merge latest engine to game staging
|                           |  (solve conflicts in isolation from game project)
‚îú‚îÄ‚îÄ‚îÄ/project-A &lt;------------'
‚îú‚îÄ‚îÄ‚îÄ/project-B
‚îú‚îÄ‚îÄ‚îÄ...</code></pre></div></div></section>
<section id="splash_ue4_anim_6"><div class="listingblock"><div class="content"><pre class="highlight"><code data-noescape class="diff language-diff">/splash-ue4
|
‚îú‚îÄ‚îÄ‚îÄ/clean
‚îÇ
‚îÇ
‚îú‚îÄ‚îÄ‚îÄ/main
|
|
‚îú‚îÄ‚îÄ‚îÄ/project-A  &gt;-----------.
‚îú‚îÄ‚îÄ‚îÄ/project-B              |
‚îú‚îÄ‚îÄ‚îÄ...                     |  merge from staging to game project
                            |  (game project now updated to latest UE)</code></pre></div></div></section>
<section id="summary"><h2>Summary</h2><div class="ulist"><ul><li><p>Allows us to have quick integrations</p></li><li><p>Decouples main game dev work from integration work</p></li><li><p>Keeps "Splash Engine" updated and in good condition</p></li></ul></div></section>
<section id="the_end"><h2>The End</h2><div class="paragraph"><p>@valentin_galea</p></div>
<div class="imageblock" style=""><img src="img/SD/SD-logo-white-orange.svg"" alt="SD" width="256" height="256"></div>
<div class="paragraph"><p>[splashdamage.com](<a href="https://www.splashdamage.com" class="bare">https://www.splashdamage.com</a>)
TODO: proper link</p></div></section>
<section id="test" data-background-iframe="surf/code_std/index.html" data-state="no_list_decor"><div class="ulist"><ul><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li><li class="fragment"><p>&#160;</p></li></ul></div></section>
<section id="tasks"><h2>Tasks</h2><div class="paragraph"><p>TODO: finish rewrite and transfer from mdx-deck (publish from home until I patch code surf)</p></div>
<div class="paragraph"><p>TODO: address feedback:
- if you explain to them why each part of our process in Splash, and on Leviathan in particular, was so amazing, and why they need it"
- reframe disclamer
- cut down on blueprint comments explanations
- "As mentioned some of the font‚Äôs could be bigger. In particular, I barely noticed the ‚ÄòAsset naming rules‚Äô page"
- pre-commit mention we are trunk-dev and more context
- add info abou Simplygon mistake and how it&#8217;s important to test
- replace asset image with dark variant
- unify the capitalization</p></div>
<div class="paragraph"><p>TODO: publish the gen-module on github and insert link
TODO: write email to Github</p></div>
<div class="paragraph"><p>FIXME: clear all images (Gears &amp; re-record the VS standars open)
FIXME: possibly remove all BM references
FIXME: add header plugin/support
FIXME: patch up CodeSurfer
FIXME: solve offline support (do like shaderbox) / if using html-inline understand why export destroys the title cards (seems to change font)
FIXME: clean up (unused imgs and transfer/)
FIXME: publish and see if problem and then ask for help with the postMessage stuff</p></div></section></div></div><script src="node_modules/reveal.js/lib/js/head.min.js"></script><script src="node_modules/reveal.js/js/reveal.js"></script><script>// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display controls in the bottom right corner
  controls: true,
  // Display a presentation progress bar
  progress: true,
  // Set a per-slide timing for speaker notes, null means none
  defaultTiming: null,
  // Display the page number of the current slide
  slideNumber: true,
  // Push each slide change to the browser history
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  previewLinks: false,
  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)
  // NOTE setting the theme in the config no longer works in reveal.js 3.x
  //theme: Reveal.getQueryHash().theme || 'black',
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: Reveal.getQueryHash().transition || 'fade',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
//
// plugins
//
dependencies: [
    { src: 'custom-fragments.js' }

    , // default plugins past this point; also add new-line
      { src: 'node_modules/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'node_modules/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'node_modules/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'node_modules/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'node_modules/reveal.js/plugin/zoom-js/zoom.js', async: true },
      { src: 'node_modules/reveal.js/plugin/notes/notes.js', async: true }
  ]
});</script></body></html>