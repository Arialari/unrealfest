import { CodeSurfer } from "mdx-deck-code-surfer"
export { default as theme } from "./theme"
import vsDark from "prism-react-renderer/themes/vsDark"

# Live Coding Standards

---
import { Image } from 'mdx-deck'
import Box from 'superbox'

<Image src="img/banner.jpg">
<Box
  css={{
    position: 'relative',
    top: '50%',
    transform: 'translateY(-50%)',
    color: 'white'
  }}
>
Valentin Galea
</Box>

</Image>

---
## What are Coding Standards

TODO: quotes from wiki

---
## Well known examples

- C++ standard
  * everything is lowercase like_this
- Google style guide
  - https://google.github.io/styleguide/cppguide.html
- Epic's own
  - https://docs.unrealengine.com/en-us/Programming/Development/CodingStandard
- TODO: more
- TODO: too big font
- TOOD: use URL short

---
## Enforcing / Adoption

- how they are presented (articles or PDFs)
- people are supposed to learn them thru practice
- tools ex: GLS on VS

---
## Pitfalls

- they get too big
- in separate location / repository
- only select few modify or improve them
- get out-of-date very quickly
- no time for docs, only code!

---
## Splash Damage approach

- standards are source code files!
  * you can break the build messing with the standard :)
- they are created and improved thru code reviews
- they have a system for easy reference and searching

---
## The Coding Standards

* 2 files
  * SplashDamageCodingStandard.h
  * SplashDamageCodingStandard.cpp
* located in the main source code
  * `ue4/Game/Source/Main/...`

---
<CodeSurfer
  title="The standard"
  code={require("!raw-loader!../standards/snip/overview.h")}
  lang="cpp"
  showNumbers={false}
  theme={vsDark}
  steps={[
    { notes: "the header file" },
    { range: [ 1, 15], notes: "" },
    { range: [15, 30] },
    { range: [30, 45] },
    { range: [45, 60] },
    { range: [60, 75] },
    { lines: [66], notes: "notice the chapter tagging system" }
  ]}
/>

---
## Tagging

- inspired by the C++ standard itself (TODO: quote)
- allows easy search and reference
- handy in code reviews

---
## Walkthrough

- more architectural than strict rule-sets
- very Unreal Engine 4 focused
- cater to all experience levels

---
<CodeSurfer
  title="Section: Layout"
  code={require("!raw-loader!../standards/snip/layout.cpp")}
  lang="cpp"
  theme={vsDark}
  steps={[
    { notes: " " },
  ]}
/>

---
<CodeSurfer
  title="Section: Braces"
  code={require("!raw-loader!../standards/snip/braces.cpp")}
  lang="cpp"
  theme={vsDark}
  steps={[
    { notes: " " },
    { range: [ 8, 24], notes: "" },
    { range: [34, 47] }
  ]}
/>

---
<CodeSurfer
  title="Section: auto"
  code={require("!raw-loader!../standards/snip/auto.cpp")}
  lang="cpp"
  theme={vsDark}
  steps={[
    { notes: " " },
    { range: [ 6, 12], notes: "" },
    { range: [17, 19] },
    { range: [21, 27] },
    { range: [29, 40] },
    { range: [46, 53] }
  ]}
/>

---
<CodeSurfer
  title="Section: lambda"
  code={require("!raw-loader!../standards/snip/lambda.cpp")}
  lang="cpp"
  theme={vsDark}
  steps={[
    { notes: " " },
    { range: [ 3,  8], notes: "" },
    { range: [17, 22] },
    { range: [24, 28] },
    { range: [34, 43] }
  ]}
/>

---
## Usage

applied via code reviews

![review](img/review-1.png)

---
## Usage (continued)

takes the pressure off from feeling judgemental 

![review](img/review-2.png)

---
## Modify and improve

the standard itself is changed though reviews sent to the whole team

if enough up-votes the proposal gets submitted

---
## Unintended consequences

![ue4 actor](img/coding-actor.png)
